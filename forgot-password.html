<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LunaBank – Forgot Password</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

<header class="lb-header">
  <div class="lb-logo">
    <img src="https://img.icons8.com/fluency/48/moon-symbol.png" class="lb-logo-icon" alt="">
    <a href="index.html">LunaBank</a>
  </div>
  <nav class="lb-nav">
    <a class="social-link" href="https://github.com/ivanayramirez-ux" target="_blank">
      <img src="https://img.icons8.com/ios-glyphs/26/github.png" class="social-icon" alt="GitHub">
    </a>
    <a class="social-link" href="https://www.linkedin.com/in/ivana-ramirez-392381211/" target="_blank">
      <img src="https://img.icons8.com/ios-filled/26/linkedin.png" class="social-icon" alt="LinkedIn">
    </a>
  </nav>
</header>

<main class="auth-main">
  <section class="auth-card" aria-labelledby="forgot-heading">

    <div id="forgot-banner" class="auth-banner" aria-live="polite"></div>

    <h1 id="forgot-heading">Forgot your password?</h1>

    <form id="forgot-form" novalidate>
      <div class="form-field">
        <label for="forgot-email">
          Email address <span class="required">*</span>
        </label>
        <input id="forgot-email" type="email" autocomplete="email">
        <p class="field-error" id="forgot-email-error"></p>
      </div>

      <button type="submit" class="btn btn-primary">Send reset link</button>
    </form>

    <p class="auth-switch small-link" style="margin-top: 1.5rem;">
      Remembered your password?
      <a href="login.html">Back to sign in</a>
    </p>

  </section>
</main>

<footer class="lb-footer">
  <p>&copy; <span id="year"></span> LunaBank</p>
</footer>

<script>
  
  document.getElementById('year').textContent = new Date().getFullYear();

  const form = document.getElementById('forgot-form');
  const banner = document.getElementById('forgot-banner');
  const emailInput = document.getElementById('forgot-email');
  const emailError = document.getElementById('forgot-email-error');

  const KNOWN_EMAIL = 'test@lunabank.com';

  function clearBanner() {
    banner.textContent = '';
    banner.classList.remove('auth-banner-error', 'auth-banner-success');
  }

  function setEmailError(message) {
    emailError.textContent = message || '';
    if (message) {
      emailInput.classList.add('input-error');
    } else {
      emailInput.classList.remove('input-error');
    }
  }

  function isValidEmail(value) {
    return /^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(value);
  }

  form.addEventListener('submit', function (e) {
    e.preventDefault();
    clearBanner();
    setEmailError('');

    const value = emailInput.value.trim();
    let hasError = false;

    if (!value) {
      setEmailError('Email is required.');
      hasError = true;
    } else if (!isValidEmail(value)) {
      setEmailError('Enter a valid email address.');
      hasError = true;
    }

    if (hasError) {
      banner.textContent = 'Please fix the highlighted field and try again.';
      banner.classList.add('auth-banner-error');
      emailInput.focus();
      return;
    }

    
    banner.textContent = "If an account exists for this email, we’ve sent a reset link.";
    banner.classList.add('auth-banner-success');

    
    banner.scrollIntoView({ behavior: 'smooth', block: 'start' });
  });
</script>

</body>
</html>
